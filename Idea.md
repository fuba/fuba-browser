claude code などの cli coding agent から chrome devtools mcp を使うと大変トークンを多く食ってしまいます。そこで、chromium を使い、devtools mcp と同様の API を利用して、claude code から利用ができる REST API を持ったデスクトップブラウザアプリケーションを作成したいです。MCP を提供するのではなく、REST API が重要です。 たとえば、スクロールなどは /endpoint/scroll?y=100 のような感じ（あくまで感じです）。 また、ページの内容を取得する場合、基本的に markdown を拡張したもので取得できるようにします。十分な面積 (window に対して面積 3% 以上で、かつ子要素 1 つずつの占める面積が小さいといった、セグメンテーションに適切な条件) をもった要素や、リンクなどについては座標情報や class などで要素を特定できる情報を markdown を拡張して付与したいです。自動操作に必要な文字入力可能な部分の要素の情報も必要です。ブラウザ自動操作や情報取得に必要という観点から、仕様をじっくりと検討してください。 さらに、ブラウザは基本的にデスクトップに表示しておき、ユーザが自由に操作できるようにしたいです。認証などは人間が行うことが妥当かなと思います。また、cookie は通常のブラウザのように適切に保存したいですね。 さらに、ブラウザについては Web で利用できる VNC によってネットワーク越しに GUI を利用できるようにしたいです。 実行環境は Mac/Windows/Linux ですが、Mac 版、Linux 版の順番でほしいです。Linux 版を docker で動作させ、その中で適切に GUI が動いており、Web から VNC 的なものを経由して操作しつつ、LLM による Agent が REST API 経由で操作でき、自由に情報抽出できるのがよいですね。 将来的に見据えたいのは、人間の操作のレコーディングです。人間の操作ログとそれぞれのタイミングの DOM ツリー的なものを適切な粒度で記録して、その記録を使って LLM が適切な操作による目的達成を行えるようになると非常に良いと思います。 以上の仕様をじっくりと検討し、仮のコーディングを行ってみてください。

